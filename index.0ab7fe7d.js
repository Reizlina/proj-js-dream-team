var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a);var n=a("662h5"),o=a("btpe3"),l=a("2nhTy"),i=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,u=/^0o[0-7]+$/i,f=parseInt,p="object"==typeof e&&e&&e.Object===Object&&e,d="object"==typeof self&&self&&self.Object===Object&&self,y=p||d||Function("return this")(),g=Object.prototype.toString,h=Math.max,m=Math.min,_=function(){return y.Date.now()};function b(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function v(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==g.call(e)}(e))return NaN;if(b(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=b(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var r=c.test(e);return r||u.test(e)?f(e.slice(2),r?2:8):s.test(e)?NaN:+e}const j={form:document.querySelector(".search-films"),list:document.querySelector(".gallery__list"),errSr:document.querySelector(".err-sr"),input:document.querySelector(".search-films__query")},O=(document.querySelector("#pagination"),new(0,n.UnsplashApi));function S(e){return e.map((e=>`<li class="gallery__item" data-id="${e.id}">\n      <img class="gallery__img" src="${e.poster_path}" alt="movie image" height="455px">\n      <h3 class="gallery__title">${e.original_title}</h3>\n      <p class="gallery__text">\n         ${e.genre_ids}\n        <span class="gallery__year">${e.release_date}</span>\n      </p>\n    </li>`)).join("")}j.form.addEventListener("submit",(async e=>{e.preventDefault();const t=j.input.value.trim().toLowerCase();O.searchQuery=t,O.searchFilm().then((e=>{(0,o.changeData)(e.data).then((()=>{0===e.data.results.length?j.errSr.style.opacity=1:j.list.innerHTML=S(e.data.results);(0,l.createPagination)({totalItems:e.data.total_results,page:e.data.page,totalPages:e.data.total_pages}).on("afterMove",(e=>{const t=e.page;O.page=t,O.searchFilm().then((e=>{(0,o.changeData)(e.data).then((()=>{j.list.innerHTML=S(e.data.results)}))})).catch((e=>{console.log(e)}))}))}))})),j.errSr.style.opacity=0}));
//# sourceMappingURL=index.0ab7fe7d.js.map
