var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n),n.register("kyRuT",(function(e,t){var i,n,r,a;i=e.exports,n="renderSpinner",r=function(){return o},Object.defineProperty(i,n,{get:r,set:a,enumerable:!0,configurable:!0});const o=()=>'<div class="backdrop-loader"><div class="loader">\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n        <div><div></div></div>\n      </div></div>'}));var r=n("662h5"),a=n("btpe3"),o=n("2nhTy"),d=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,v=parseInt,u="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,p=u||f||Function("return this")(),y=Object.prototype.toString,g=Math.max,m=Math.min,b=function(){return p.Date.now()};function h(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==y.call(e)}(e))return NaN;if(h(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=h(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(d,"");var i=s.test(e);return i||c.test(e)?v(e.slice(2),i?2:8):l.test(e)?NaN:+e}var j=n("kyRuT");const S={form:document.querySelector(".search-films"),list:document.querySelector(".gallery__list"),errSr:document.querySelector(".err-sr"),input:document.querySelector(".search-films__query")},O=(document.querySelector("#pagination"),new(0,r.UnsplashApi));function x(e){return e.map((e=>`<li class="gallery__item" data-id="${e.id}">\n      <img class="gallery__img" src="${e.poster_path}" alt="movie image" height="455px">\n      <h3 class="gallery__title">${e.original_title}</h3>\n      <p class="gallery__text">\n         ${e.genre_ids}\n        <span class="gallery__year">${e.release_date}</span>\n      </p>\n    </li>`)).join("")}S.form.addEventListener("submit",(async e=>{e.preventDefault();const t=S.input.value.trim().toLowerCase();O.searchQuery=t,document.body.insertAdjacentHTML("beforebegin",(0,j.renderSpinner)()),O.searchFilm().then((e=>{(0,a.changeData)(e.data).then((()=>{0===e.data.results.length?S.errSr.style.opacity=1:S.list.innerHTML=x(e.data.results);(0,o.createPagination)({totalItems:e.data.total_results,page:e.data.page,totalPages:e.data.total_pages}).on("afterMove",(e=>{const t=e.page;O.page=t,O.searchFilm().then((e=>{(0,a.changeData)(e.data).then((()=>{S.list.innerHTML=x(e.data.results)}))})).catch((e=>{console.log(e)}))}))}))})).finally((()=>{document.querySelector(".backdrop-loader").remove()})),S.errSr.style.opacity=0}));
//# sourceMappingURL=index.30350ccd.js.map
