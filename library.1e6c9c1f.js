var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var l={id:e,exports:{}};return t[e]=l,a.call(l.exports,l,l.exports),l.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){r[e]=t},e.parcelRequired7c6=a);new(0,a("662h5").UnsplashApi);const l=document.querySelector(".gallery__list");let n=null,s=null;try{s=localStorage.getItem("queue"),s=null===s?[]:JSON.parse(s)}catch(e){console.error("Get state error: ",e.message)}try{n=localStorage.getItem("watched"),n=null===n?[]:JSON.parse(n)}catch(e){console.error("Get state error: ",e.message)}s.length&&(c(s),l.innerHTML=i(s));const o={btnWatched:document.querySelector(".buttons__watched"),btnQueue:document.querySelector(".buttons__queue")};o.btnWatched.addEventListener("click",(e=>{e.target.classList.add("is-active"),o.btnQueue.classList.remove("is-active");try{n=localStorage.getItem("watched"),n=null===n?[]:JSON.parse(n)}catch(e){console.error("Get state error: ",e.message)}c(n),l.innerHTML=i(n)}));function c(e){const t=localStorage.getItem("genre_ids"),r=JSON.parse(t);return console.log(e),e.forEach((e=>{e.genres.forEach(((e,t,a)=>{for(let l=0;l<r.length;l+=1)if(e.id===r[l].id){a[t]=r[l].name;break}})),null===e.poster_path?e.poster_path="https://thumbs.dreamstime.com/b/%D1%81%D0%BA%D0%BE%D1%80%D0%BE-%D0%BD%D0%B0-%D0%B8%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D0%BE%D0%B9-%D0%B4%D0%BE%D1%81%D0%BA%D0%B5-%D0%BF%D0%BE%D1%8F%D0%B2%D0%B8%D1%82%D1%81%D1%8F-%D0%BF%D0%BB%D0%B0%D0%BA%D0%B0%D1%82-retro-%D1%81%D0%B2%D0%B5%D1%82%D1%8F%D1%89%D0%B8%D0%B9%D1%81%D1%8F-%D0%BD%D0%B5%D0%BE%D0%BD-159994270.jpg":e.poster_path="https://image.tmdb.org/t/p/w500/"+e.poster_path,e.release_date?e.release_date=e.release_date.slice(0,4):e.release_date="release year unknown",e.genres.length||(e.genres="genre unknown")}))}function i(e){return e.map((e=>`<li class="gallery__item" data-id="${e.id}">\n      <img class="gallery__img" src="${e.poster_path}" alt="movie image" height="455px">\n      <h3 class="gallery__title">${e.original_title}</h3>\n      <p class="gallery__text">\n         ${e.genres}\n        <span class="gallery__year">${e.release_date}</span>\n      </p>\n    </li>`)).join("")}o.btnQueue.addEventListener("click",(e=>{e.target.classList.add("is-active"),o.btnWatched.classList.remove("is-active");try{s=localStorage.getItem("queue"),s=null===s?[]:JSON.parse(s)}catch(e){console.error("Get state error: ",e.message)}c(s),l.innerHTML=i(s)}));
//# sourceMappingURL=library.1e6c9c1f.js.map
