{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCAK4BC,SAASC,cAAc,eAAnD,MAEMC,EAAOF,SAASC,cAAc,kBAE9BE,EAAc,IAAI,EAAAL,EAAAM,aAmCjB,SAASC,EAAOC,GACrB,OAAOA,EACJC,KAAIC,GACI,8CAE4BA,EAAGC,8CACLD,EAAGE,oBAAoBF,EAAGG,qDAC9BH,EAAGI,8CACLJ,EAAGK,kDACEL,EAAGM,+CAIpCC,KAAK,IA/CVf,SAASgB,KAAKC,mBAAmB,eAAe,EAAAC,EAAAC,kBAChDhB,EAAYiB,oBAAoBC,MAAKC,KAEnC,EAAAC,EAAAC,YAAWF,EAAOG,MACfJ,MAAK,KACJnB,EAAKwB,UAAYrB,EAAOiB,EAAOG,KAAKE,UAEjB,EAAAC,EAAAC,kBAAiB,CAClCC,WAAYR,EAAOG,KAAKM,cACxBC,KAAMV,EAAOG,KAAKO,KAClBC,WAAYX,EAAOG,KAAKS,cAGfC,GAAG,aAAaC,IACzB,MAAMC,EAAcD,EAAMJ,KAC1B7B,EAAY6B,KAAOK,EAEnBlC,EACGiB,oBACAC,MAAKiB,KACJ,EAAAf,EAAAC,YAAWc,EAAOb,MAAMJ,MAAK,KAC3BnB,EAAKwB,UAAYrB,EAAOiC,EAAOb,KAAKE,eAGvCY,OAAMC,IACLC,QAAQC,IAAIF,YAInBG,SAAQ,KACP3C,SAASC,cAAc,oBAAoB2C","sources":["src/js/fetch-film.js"],"sourcesContent":["import { UnsplashApi } from './themoviedb';\nimport { createPagination } from './pagination';\nimport { changeData } from './index';\nimport { renderSpinner } from './spiner';\n\nconst containerPagination = document.querySelector('#pagination');\n\nconst gall = document.querySelector('.gallery__list');\n\nconst unsplashApi = new UnsplashApi();\ndocument.body.insertAdjacentHTML('beforebegin', renderSpinner());\nunsplashApi.fetchPopularFilms().then(result => {\n  // document.body.insertAdjacentHTML('beforebegin', renderSpinner());\n  changeData(result.data)\n    .then(() => {\n      gall.innerHTML = markup(result.data.results);\n\n      const pagination = createPagination({\n        totalItems: result.data.total_results,\n        page: result.data.page,\n        totalPages: result.data.total_pages,\n      });\n\n      pagination.on('afterMove', event => {\n        const currentPage = event.page;\n        unsplashApi.page = currentPage;\n\n        unsplashApi\n          .fetchPopularFilms()\n          .then(result => {\n            changeData(result.data).then(() => {\n              gall.innerHTML = markup(result.data.results);\n            });\n          })\n          .catch(error => {\n            console.log(error);\n          });\n      });\n    })\n    .finally(() => {\n      document.querySelector('.backdrop-loader').remove();\n    });\n});\n\nexport function markup(elements) {\n  return elements\n    .map(el => {\n      return `\n\n    <li class=\"gallery__item\" data-id=\"${el.id}\">\n      <img class=\"gallery__img\" src=\"${el.poster_path}\" alt=${el.original_title}>\n      <h3 class=\"gallery__title\">${el.title}</h3>\n      <p class=\"gallery__text\">${el.genre_ids}\n        <span class=\"gallery__year\">${el.release_date}</span>\n      </p>\n    </li>`;\n    })\n    .join('');\n}\n"],"names":["$662h5","parcelRequire","document","querySelector","$f7ab68046dda0dae$var$gall","$f7ab68046dda0dae$var$unsplashApi","UnsplashApi","$f7ab68046dda0dae$export$7b40ce885114f0a6","elements","map","el","id","poster_path","original_title","title","genre_ids","release_date","join","body","insertAdjacentHTML","$kyRuT","renderSpinner","fetchPopularFilms","then","result1","$btpe3","changeData","data","innerHTML","results","$2nhTy","createPagination","totalItems","total_results","page","totalPages","total_pages","on","event","currentPage","result","catch","error","console","log","finally","remove"],"version":3,"file":"index.661865e0.js.map"}